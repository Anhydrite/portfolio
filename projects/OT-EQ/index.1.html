<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Orateur Typographique</title>
  <link type="text/css" rel='stylesheet' href="style.css">
</head>
<body>

<!--
  
    <svg preserveAspectRatio="none" id="visualizer" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <defs>

          <mask id="mask">
              <g id="maskGroup">
            </g>
          </mask>
          <linearGradient id="gradient" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" style="stop-color:#ff0a0a;stop-opacity:1" />
              <stop offset="20%" style="stop-color:#f1ff0a;stop-opacity:1" />
              <stop offset="90%" style="stop-color:#d923b9;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#050d61;stop-opacity:1" />
          </linearGradient>
      </defs>
      <rect x="0" y="0" width="100%" height="100%" fill="url(#gradient)" mask="url(#mask)"></rect>
  </svg>

<h1>Please allow the use of your microphone</h1>



<script  src="./script.js"></script>

-->

<!-- 
  <div class="words" id="boitetexte" contenteditable>
    <input type="button" value="test" onclick="michel()">
    <div class="fin" id="fin"></div>
  </div>
  
-->
<div id="prog">
  
       <div id='warped'>
          <div class="words" id="navbar">
            </div>


       <div id="fin"></div>

<div id='bottom'></div>
</div>
</div>
<script>  
 window.SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
  const recognition = new SpeechRecognition();
  recognition.interimResults = true;
  recognition.lang = '';


 
  

  var img = document.createElement("img");
 
  img.src = "rond-rouge.png";
  var src = document.getElementById("navbar");
 img.width="20";

  

  let p = document.createElement('p');
  
  const words = document.querySelector('.words');
  words.appendChild(p);
  recognition.addEventListener('result', e => {
    const transcript = Array.from(e.results)
      .map(result => result[0])
      .map(result => result.transcript)
      .join('')
      
      
      const poopScript = transcript.replace(/point d'exclamation/, '!');
      p.textContent = poopScript;
      if (e.results[0].isFinal) {
        console.log(p.textContent);
        creerspan(p.textContent);
      }
  });
  recognition.addEventListener('end', recognition.start);
  recognition.start();
  
  
  </script>
<script type="text/javascript" src="code.js">

</script>


</body>
</html>